import{d as V,c as C,a as n,w as l,o as b,f as d,b as a,u as r,p as x}from"./index-DEZaLq76.js";import{C as u}from"./ComponentButton-C3meVf2-.js";import{C as g}from"./ComponentCard-D_QuY9Lo.js";import{C as v}from"./ComponentHeading-BwTxAJ3r.js";import{C as s}from"./ComponentInput-CTghgZJM.js";import{s as w}from"./index-CznklluM.js";import{P as N,m as i}from"./index-Bhxkf1XE.js";import{u as k}from"./index-B0JtZy-1.js";import"./index-DTEV5yGJ.js";import"./axios-CCb-kr4I.js";const L=V({__name:"createView",setup(y){const t=k();t.element={name:"",description:"",command:""};const p=new N({fieldName:"name",rule:o=>i(o,4),errorMessage:"Обязательно укажите наименование"},{fieldName:"command",rule:o=>i(o,4),errorMessage:"Обязательно укажите команду для запуска диалплана"}),f=()=>{const o=p.validate(t.element);if(Object.keys(o).length!==0){w(o);return}t.save()};return(o,e)=>(b(),C("main",null,[n(v,null,{nav:l(()=>[n(u,{to:{name:"scene"}},{default:l(()=>e[5]||(e[5]=[d("Назад")])),_:1}),n(u,{onClick:e[0]||(e[0]=m=>f())},{default:l(()=>e[6]||(e[6]=[d("Сохранить")])),_:1})]),default:l(()=>[e[7]||(e[7]=a("h1",null,"Новая запись",-1)),e[8]||(e[8]=a("p",null,"Укажите наименование сценария, постарайтесь выбрать короткое и лаконичное наименование сценария",-1))]),_:1}),n(g,{tag:"article"},{default:l(()=>[a("form",{onSubmit:e[4]||(e[4]=x(()=>{},["prevent"]))},[n(s,{type:"text",label:"Наименование",required:"name",modelValue:r(t).element.name,"onUpdate:modelValue":e[1]||(e[1]=m=>r(t).element.name=m)},null,8,["modelValue"]),n(s,{type:"text",label:"Описание",modelValue:r(t).element.description,"onUpdate:modelValue":e[2]||(e[2]=m=>r(t).element.description=m)},null,8,["modelValue"]),n(s,{type:"text",label:"Команда",required:"command",modelValue:r(t).element.command,"onUpdate:modelValue":e[3]||(e[3]=m=>r(t).element.command=m)},null,8,["modelValue"])],32)]),_:1})]))}});export{L as default};
