import{d as b,e as g,c as x,b as s,a as n,w as m,q as N,o as v,f as u,u as t,t as w,p as y,_ as M}from"./index-DEZaLq76.js";import{C as d}from"./ComponentButton-C3meVf2-.js";import{C as U}from"./ComponentCard-D_QuY9Lo.js";import{C as k}from"./ComponentDropdownList-CakEUtGU.js";import{C as q}from"./ComponentHeading-BwTxAJ3r.js";import{C as r}from"./ComponentInput-CTghgZJM.js";import{s as B}from"./index-CznklluM.js";import{P as S,m as i,i as E,a as P}from"./index-Bhxkf1XE.js";import{u as D}from"./index-CZoH2opx.js";import"./index-DTEV5yGJ.js";import"./axios-CCb-kr4I.js";const I=b({__name:"updateView",setup(L){const l=D(),p=N(),f=g([{id:1,name:"Гость"},{id:2,name:"Оператор"},{id:3,name:"Администратор"},{id:4,name:"Инженер"},{id:5,name:"Разработчик"}]),V=new S({fieldName:"fullname",rule:a=>i(a,12),errorMessage:"Обязательно укажите имя пользователя"},{fieldName:"email",rule:E,errorMessage:"Адрес эл.почты должен быть валидным"},{fieldName:"email",rule:a=>i(a,5),errorMessage:"Обязательно укажите адрес эл.почты пользователя"},{fieldName:"phone",rule:a=>i(a,5),errorMessage:"Обязательно укажите номер телефона пользователя"},{fieldName:"phone",rule:P,errorMessage:"Номер телефона должен начинаться на +7, содержать только цифры"},{fieldName:"phone",rule:a=>i(a,12),errorMessage:"Длинна номера телефона должна быть не менее 11 символов"}),C=()=>{const a=V.validate(l.element);if(Object.keys(a).length!==0){B(a);return}l.update()};return l.fetchOne(p.params.slug),(a,e)=>(v(),x("main",null,[e[14]||(e[14]=s("nav",null,null,-1)),n(q,null,{nav:m(()=>[n(d,{to:{name:"user"}},{default:m(()=>e[9]||(e[9]=[u("Назад")])),_:1}),n(d,{onClick:e[0]||(e[0]=o=>C())},{default:m(()=>e[10]||(e[10]=[u("Сохранить")])),_:1}),n(d,{onClick:t(l).remove},{default:m(()=>e[11]||(e[11]=[u("Удалить")])),_:1},8,["onClick"])]),default:m(()=>[s("h1",null,[e[12]||(e[12]=u(" Редактирование ")),s("span",null,w(t(l).element.fullname),1)]),e[13]||(e[13]=s("p",null,' В этом разделе вы можете редактировать данные пользователя в системе. Пожалуйста, заполните все необходимые поля, такие как ФИО, описание, почта, номер телефона, пароль и должность. Вы также можете выбрать роль пользователя из выпадающего списка. После заполнения всех полей нажмите кнопку "Сохранить", чтобы обновить пользователя в системе. ',-1))]),_:1}),n(U,{tag:"article"},{default:m(()=>[s("form",{onSubmit:e[8]||(e[8]=y(()=>{},["prevent"]))},[n(r,{type:"text",label:"ФИО",required:"fullname",modelValue:t(l).element.fullname,"onUpdate:modelValue":e[1]||(e[1]=o=>t(l).element.fullname=o)},null,8,["modelValue"]),n(r,{type:"text",label:"Электронная почта",required:"email",modelValue:t(l).element.email,"onUpdate:modelValue":e[2]||(e[2]=o=>t(l).element.email=o)},null,8,["modelValue"]),n(r,{type:"text",label:"Пароль",modelValue:t(l).element.password,"onUpdate:modelValue":e[3]||(e[3]=o=>t(l).element.password=o)},null,8,["modelValue"]),n(r,{type:"text",label:"Номер телефона",required:"phone",modelValue:t(l).element.phone,"onUpdate:modelValue":e[4]||(e[4]=o=>t(l).element.phone=o)},null,8,["modelValue"]),n(r,{type:"text",label:"Должность",modelValue:t(l).element.position,"onUpdate:modelValue":e[5]||(e[5]=o=>t(l).element.position=o)},null,8,["modelValue"]),n(r,{type:"text",label:"Описание",modelValue:t(l).element.description,"onUpdate:modelValue":e[6]||(e[6]=o=>t(l).element.description=o)},null,8,["modelValue"]),n(k,{label:"Роль",options:f.value.map(o=>({value:o.id,label:o.name})),modelValue:t(l).element.permissions_id,"onUpdate:modelValue":e[7]||(e[7]=o=>t(l).element.permissions_id=o)},null,8,["options","modelValue"])],32)]),_:1})]))}}),K=M(I,[["__scopeId","data-v-150fcf0a"]]);export{K as default};
