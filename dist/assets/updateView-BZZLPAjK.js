import{d as V,c as C,a as n,w as m,q as b,o as x,f as s,u as l,b as u,t as y,p as g,_ as k}from"./index-DEZaLq76.js";import{C as d}from"./ComponentButton-C3meVf2-.js";import{C as v}from"./ComponentCard-D_QuY9Lo.js";import{C as w}from"./ComponentHeading-BwTxAJ3r.js";import{C as a}from"./ComponentInput-CTghgZJM.js";import{s as U}from"./index-CznklluM.js";import{P as B,m as N}from"./index-Bhxkf1XE.js";import{u as S}from"./index-BuhSMT6x.js";import"./index-DTEV5yGJ.js";import"./axios-CCb-kr4I.js";const P=V({__name:"updateView",setup(T){const t=S(),p=b(),i=new B({fieldName:"name",rule:r=>N(r,4),errorMessage:"Обязательно укажите наименование"}),f=()=>{const r=i.validate(t.element);if(Object.keys(r).length!==0){U(r);return}t.update()};return t.fetchOne(+p.params.id),(r,e)=>(x(),C("main",null,[n(w,null,{nav:m(()=>[n(d,{to:{name:"organisation"}},{default:m(()=>e[8]||(e[8]=[s("Назад")])),_:1}),n(d,{onClick:e[0]||(e[0]=o=>f())},{default:m(()=>e[9]||(e[9]=[s("Сохранить")])),_:1}),n(d,{onClick:l(t).remove},{default:m(()=>e[10]||(e[10]=[s("Удалить")])),_:1},8,["onClick"])]),default:m(()=>[u("h1",null,[e[11]||(e[11]=s(" Редактирование ")),u("span",null,y(l(t).element.name),1)]),e[12]||(e[12]=u("p",null," Для удобства обслуживания вашей организации, заполните пожалуйста все ниже перечисленные поля. ",-1))]),_:1}),n(v,{tag:"article"},{default:m(()=>[u("form",{onSubmit:e[7]||(e[7]=g(()=>{},["prevent"]))},[n(a,{type:"text",label:"Наименование",required:"name",modelValue:l(t).element.name,"onUpdate:modelValue":e[1]||(e[1]=o=>l(t).element.name=o)},null,8,["modelValue"]),n(a,{type:"text",label:"Адрес",modelValue:l(t).element.address,"onUpdate:modelValue":e[2]||(e[2]=o=>l(t).element.address=o)},null,8,["modelValue"]),n(a,{type:"text",label:"Телефон",modelValue:l(t).element.phone,"onUpdate:modelValue":e[3]||(e[3]=o=>l(t).element.phone=o)},null,8,["modelValue"]),n(a,{type:"text",label:"HTTP-адрес",modelValue:l(t).element.http,"onUpdate:modelValue":e[4]||(e[4]=o=>l(t).element.http=o)},null,8,["modelValue"]),n(a,{type:"email",label:"Электронная почта",modelValue:l(t).element.email,"onUpdate:modelValue":e[5]||(e[5]=o=>l(t).element.email=o)},null,8,["modelValue"]),n(a,{type:"text",label:"Описание",modelValue:l(t).element.description,"onUpdate:modelValue":e[6]||(e[6]=o=>l(t).element.description=o)},null,8,["modelValue"])],32)]),_:1})]))}}),$=k(P,[["__scopeId","data-v-51b07079"]]);export{$ as default};
