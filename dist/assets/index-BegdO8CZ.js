import{i as a}from"./index-DTEV5yGJ.js";import{k as i,s as u,e as n}from"./index-DEZaLq76.js";const t="/v1/schemes",E=i("scheme",()=>{const c=u(),o=n({description:"",file:"",name:""}),s=n([]);return{dialog:n(!1),elements:s,element:o,save:async()=>{try{const e=await a.post(t,o.value);s.value===null&&(s.value=[]),s.value.push(e.data),c.push({name:"scheme"})}catch(e){console.error("Error saving scheme:",e)}},update:async()=>{try{await a.put([t,o.value.id].join("/"),o.value),c.push({name:"scheme"})}catch(e){console.error("Error updating scheme:",e)}},remove:async()=>{try{await a.delete([t,o.value.id].join("/")),c.push({name:"scheme"})}catch(e){console.error("Error deleting scheme:",e)}},upload:async e=>{try{const r=new FormData;r.append("file",e);const l=await a.post("/v1/docs",r,{headers:{"Content-Type":"multipart/form-data"}});o.value.file=l.data.file}catch(r){console.error("Error uploading scheme:",r)}},fetchAll:async()=>{try{const e=await a.get(t);s.value=e.data}catch(e){console.error("Error fetching schemes:",e)}},fetchOne:async e=>{try{const r=await a.get([t,e].join("/"));o.value=r.data}catch(r){console.error("Error fetching scheme:",r)}}}});export{E as u};
