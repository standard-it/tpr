import{d as g,c as S,a as m,w as r,o as k,f as C,b as u,u as o,p as v}from"./index-DEZaLq76.js";import{C as x}from"./ComponentButton-C3meVf2-.js";import{C as y}from"./ComponentCard-D_QuY9Lo.js";import{C as d}from"./ComponentDropdownList-CakEUtGU.js";import{C as P}from"./ComponentHeading-BwTxAJ3r.js";import{C as n}from"./ComponentInput-CTghgZJM.js";import{s as q}from"./index-CznklluM.js";import{P as B,m as N}from"./index-Bhxkf1XE.js";import{u as T}from"./index-HHQrPdE9.js";import{u as $}from"./index-FwF_Cyqq.js";import{u as A}from"./index-Cuj8nlG6.js";import{u as H}from"./index-EbIPtxbL.js";import"./index-DTEV5yGJ.js";import"./axios-CCb-kr4I.js";const X=g({__name:"createView",setup(I){const p=T(),i=$(),t=H(),V=A();t.element={equipment_categories_id:0,http:"",ip:"",model:"",name:"",racks_id:0,serial_number:"",ssh:"",warranties_id:0,rtsp:""};const w=new B({fieldName:"name",rule:a=>N(a,4),errorMessage:"Обязательно укажите наименование"}),U=()=>{const a=w.validate(t.element);if(Object.keys(a).length!==0){q(a);return}t.save()};return p.fetchAll(),i.fetchAll(),V.fetchAll(),(a,e)=>(k(),S("main",null,[m(P,null,{nav:r(()=>[m(x,{to:{name:"equipment"}},{default:r(()=>e[12]||(e[12]=[C("Назад")])),_:1}),m(x,{onClick:e[0]||(e[0]=s=>U())},{default:r(()=>e[13]||(e[13]=[C("Сохранить")])),_:1})]),default:r(()=>[e[14]||(e[14]=u("h1",null,"Новая запись",-1)),e[15]||(e[15]=u("p",null,' Укажите кратко наименование оборудования, например "Камера 1", "IP Усилитель 1". Выберите "Категорию оборудования", если нет нужной категории создайте новую категорию в меню "Категория оборудования". ',-1))]),_:1}),m(y,{tag:"section"},{default:r(()=>{var s,f,b;return[u("form",{onSubmit:e[11]||(e[11]=v(()=>{},["prevent"]))},[m(n,{type:"text",label:"Наименование",required:"name",modelValue:o(t).element.name,"onUpdate:modelValue":e[1]||(e[1]=l=>o(t).element.name=l)},null,8,["modelValue"]),m(d,{label:"Категория",options:(s=o(p).elements)==null?void 0:s.map(l=>({value:l.id,label:l.name})),modelValue:o(t).element.equipment_categories_id,"onUpdate:modelValue":e[2]||(e[2]=l=>o(t).element.equipment_categories_id=l)},null,8,["options","modelValue"]),m(n,{type:"text",label:"Серийный номер",modelValue:o(t).element.serial_number,"onUpdate:modelValue":e[3]||(e[3]=l=>o(t).element.serial_number=l)},null,8,["modelValue"]),m(n,{type:"text",label:"Модель",modelValue:o(t).element.model,"onUpdate:modelValue":e[4]||(e[4]=l=>o(t).element.model=l)},null,8,["modelValue"]),m(n,{type:"text",label:"HTTP",modelValue:o(t).element.http,"onUpdate:modelValue":e[5]||(e[5]=l=>o(t).element.http=l)},null,8,["modelValue"]),m(n,{type:"text",label:"SSH",modelValue:o(t).element.ssh,"onUpdate:modelValue":e[6]||(e[6]=l=>o(t).element.ssh=l)},null,8,["modelValue"]),m(n,{type:"text",label:"IP",modelValue:o(t).element.ip,"onUpdate:modelValue":e[7]||(e[7]=l=>o(t).element.ip=l)},null,8,["modelValue"]),m(d,{label:"Телекоммуникационный шкаф",options:(f=o(i).elements)==null?void 0:f.map(l=>({value:l.id,label:l.name})),modelValue:o(t).element.racks_id,"onUpdate:modelValue":e[8]||(e[8]=l=>o(t).element.racks_id=l)},null,8,["options","modelValue"]),m(d,{label:"Гарантия",options:(b=o(V).elements)==null?void 0:b.map(l=>({value:l.id,label:l.name})),modelValue:o(t).element.warranties_id,"onUpdate:modelValue":e[9]||(e[9]=l=>o(t).element.warranties_id=l)},null,8,["options","modelValue"]),m(n,{type:"text",label:"RTSP",modelValue:o(t).element.rtsp,"onUpdate:modelValue":e[10]||(e[10]=l=>o(t).element.rtsp=l)},null,8,["modelValue"])],32)]}),_:1})]))}});export{X as default};
