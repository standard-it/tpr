import{d as B,x as h,e as g,E as S,g as w,c as l,a,w as n,F as E,h as I,G as N,o as s,b as r,p as A,f as F,_ as M}from"./index-DEZaLq76.js";import{C as j}from"./ComponentButton-C3meVf2-.js";import{C as u}from"./ComponentCard-D_QuY9Lo.js";import{C as q}from"./ComponentHeading-BwTxAJ3r.js";import{C as H}from"./ComponentInput-CTghgZJM.js";import{s as O}from"./index-CznklluM.js";import{P as U,m as z}from"./index-Bhxkf1XE.js";import{u as G}from"./index-BuhSMT6x.js";import{u as J}from"./index-CZoH2opx.js";import"./index-DTEV5yGJ.js";import"./axios-CCb-kr4I.js";const K={key:0},L={key:1},T=B({__name:"indexView",setup(Y){const p=J(),d=G(),f=h(()=>{var v;const{fullname:t="",email:e="",position:m="",phone:b=""}=p.element||{},{name:y=""}=((v=d.elements)==null?void 0:v[0])||{};return{fullname:t,email:e,position:m,phone:b,name:y}}),o=g({fullname:"",email:"",position:"",phone:"",text:"",organisation:""}),x=new U({fieldName:"text",rule:t=>z(t,8),errorMessage:"Сообщение не должно быть короче 8 символов"}),C=()=>{const t=x.validate(o.value);if(Object.keys(t).length!==0){O(t);return}V()},k="7039066406:AAFa1oPYJnZzEn5Kiaq5867wvBH4VIjk3IU",_="-4534488649";S(f,t=>{o.value.fullname=t.fullname,o.value.email=t.email,o.value.position=t.position,o.value.phone=t.phone,o.value.organisation=t.name},{immediate:!0});const c=g(!1),V=()=>{N(o.value,k,_),c.value=!0},i=w();return d.fetchAll(),p.fetchOne(i==null?void 0:i.email),(t,e)=>(s(),l("main",null,[a(q,{static:!0},{default:n(()=>e[2]||(e[2]=[r("h1",null,"Техническая поддержка",-1),r("p",null," В этом разделе вы можете получить помощь и поддержку по вопросам, связанным с использованием нашего программного обеспечения. Если у вас возникли проблемы или вопросы, пожалуйста, свяжитесь с нашей службой поддержки. ",-1)])),_:1}),f.value.name?(s(),l(E,{key:0},[c.value?(s(),l("section",L,[a(u,{tag:"article"},{default:n(()=>e[4]||(e[4]=[r("p",null,"Ваше сообщение успешно отправлено",-1)])),_:1})])):(s(),l("section",K,[a(u,{tag:"article"},{default:n(()=>[r("form",{onSubmit:e[1]||(e[1]=A(()=>{},["prevent"]))},[a(H,{type:"text",label:"Сообщение",required:"text",modelValue:o.value.text,"onUpdate:modelValue":e[0]||(e[0]=m=>o.value.text=m)},null,8,["modelValue"])],32)]),_:1}),a(j,{onClick:C},{default:n(()=>e[3]||(e[3]=[F("Отправить")])),_:1})]))],64)):(s(),I(u,{key:1,tag:"article"},{default:n(()=>e[5]||(e[5]=[r("p",null,"Не заполнена карточка организации",-1)])),_:1}))]))}}),ae=M(T,[["__scopeId","data-v-abfa7105"]]);export{ae as default};
