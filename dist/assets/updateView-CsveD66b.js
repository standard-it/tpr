import{d as C,c as g,b as a,a as n,w as m,q as x,o as b,f as s,u as t,t as v,p as y,_ as N}from"./index-DEZaLq76.js";import{C as i}from"./ComponentButton-C3meVf2-.js";import{C as k}from"./ComponentCard-D_QuY9Lo.js";import{C as w}from"./ComponentHeading-BwTxAJ3r.js";import{C as u}from"./ComponentInput-CTghgZJM.js";import{s as M}from"./index-CznklluM.js";import{P as U,m as p,i as q}from"./index-Bhxkf1XE.js";import{u as B}from"./index-BzCdFny3.js";import"./index-DTEV5yGJ.js";import"./axios-CCb-kr4I.js";const S=C({__name:"updateView",setup(E){const l=B(),d=x(),f=new U({fieldName:"fullname",rule:r=>p(r,4),errorMessage:"Обязательно укажите имя пользователя или ЭОС"},{fieldName:"email",rule:q,errorMessage:"Адрес эл.почты должен быть валидным"},{fieldName:"email",rule:r=>p(r,5),errorMessage:"Обязательно укажите адрес эл.почты пользователя"},{fieldName:"phone",rule:r=>p(r,3),errorMessage:"Обязательно укажите номер телефона пользователя"}),V=()=>{const r=f.validate(l.element);if(Object.keys(r).length!==0){M(r);return}l.update()};return l.fetchOne(d.params.slug),(r,e)=>(b(),g("main",null,[e[12]||(e[12]=a("nav",null,null,-1)),n(w,null,{nav:m(()=>[n(i,{to:{name:"user-profile"}},{default:m(()=>e[7]||(e[7]=[s("Назад")])),_:1}),n(i,{onClick:e[0]||(e[0]=o=>V())},{default:m(()=>e[8]||(e[8]=[s("Сохранить")])),_:1}),n(i,{onClick:t(l).remove},{default:m(()=>e[9]||(e[9]=[s("Удалить")])),_:1},8,["onClick"])]),default:m(()=>[a("h1",null,[e[10]||(e[10]=s(" Редактирование ")),a("span",null,v(t(l).element.fullname),1)]),e[11]||(e[11]=a("p",null," Заполните все поля. Обязательные поля ФИО или ЭОС и телефоны. ",-1))]),_:1}),n(k,{tag:"article"},{default:m(()=>[a("form",{onSubmit:e[6]||(e[6]=y(()=>{},["prevent"]))},[n(u,{type:"text",label:"ФИО или ЭОС",required:"fullname",modelValue:t(l).element.fullname,"onUpdate:modelValue":e[1]||(e[1]=o=>t(l).element.fullname=o)},null,8,["modelValue"]),n(u,{type:"text",label:"Электронная почта",required:"email",modelValue:t(l).element.email,"onUpdate:modelValue":e[2]||(e[2]=o=>t(l).element.email=o)},null,8,["modelValue"]),n(u,{type:"text",label:"Номер телефона",required:"phone",modelValue:t(l).element.phone,"onUpdate:modelValue":e[3]||(e[3]=o=>t(l).element.phone=o)},null,8,["modelValue"]),n(u,{type:"text",label:"Должность",modelValue:t(l).element.position,"onUpdate:modelValue":e[4]||(e[4]=o=>t(l).element.position=o)},null,8,["modelValue"]),n(u,{type:"text",label:"Описание",modelValue:t(l).element.description,"onUpdate:modelValue":e[5]||(e[5]=o=>t(l).element.description=o)},null,8,["modelValue"])],32)]),_:1})]))}}),z=N(S,[["__scopeId","data-v-5c30c664"]]);export{z as default};
