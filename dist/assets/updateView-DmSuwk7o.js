import{d as k,c as V,a as r,w as n,q as b,o as g,f as s,u as a,b as m,t as x,p as v,_ as w}from"./index-DEZaLq76.js";import{C as i}from"./ComponentButton-C3meVf2-.js";import{C as N}from"./ComponentCard-D_QuY9Lo.js";import{C as y}from"./ComponentHeading-BwTxAJ3r.js";import{C as u}from"./ComponentInput-CTghgZJM.js";import{s as B}from"./index-CznklluM.js";import{P as I,m as p}from"./index-Bhxkf1XE.js";import{u as S}from"./index-y4w7hDQv.js";import"./index-DTEV5yGJ.js";import"./axios-CCb-kr4I.js";const _=k({__name:"updateView",setup(q){const t=S(),d=b(),f=new I({fieldName:"token",rule:o=>p(o,8),errorMessage:"Обязательно укажите токен телеграмм-бота"},{fieldName:"chat_id",rule:o=>p(o,8),errorMessage:"Обязательно укажите идентификатор чата группы"}),C=()=>{const o=f.validate(t.element);if(Object.keys(o).length!==0){B(o);return}t.update()};return t.fetchOne(+d.params.id),(o,e)=>(g(),V("main",null,[r(y,null,{nav:n(()=>[r(i,{to:{name:"notice"}},{default:n(()=>e[4]||(e[4]=[s("Назад")])),_:1}),r(i,{onClick:e[0]||(e[0]=l=>C())},{default:n(()=>e[5]||(e[5]=[s("Сохранить")])),_:1}),r(i,{onClick:a(t).remove},{default:n(()=>e[6]||(e[6]=[s("Удалить")])),_:1},8,["onClick"])]),default:n(()=>[m("h1",null,[e[7]||(e[7]=s(" Редактирование ")),m("span",null,x(a(t).element.token),1)]),e[8]||(e[8]=m("p",null,"Укажите токен телеграмм-бота и чат-ID группы куда будут приходить уведомления.",-1))]),_:1}),r(N,{tag:"article"},{default:n(()=>[m("form",{onSubmit:e[3]||(e[3]=v(()=>{},["prevent"]))},[r(u,{type:"text",label:"Токен",required:"token",modelValue:a(t).element.token,"onUpdate:modelValue":e[1]||(e[1]=l=>a(t).element.token=l)},null,8,["modelValue"]),r(u,{type:"text",label:"ID-канала / группы",required:"chat_id",modelValue:a(t).element.chat_id,"onUpdate:modelValue":e[2]||(e[2]=l=>a(t).element.chat_id=l)},null,8,["modelValue"])],32)]),_:1})]))}}),T=w(_,[["__scopeId","data-v-6af806ba"]]);export{T as default};
