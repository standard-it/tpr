import{i as r}from"./index-DTEV5yGJ.js";import{k as i,s as l,e as c}from"./index-DEZaLq76.js";const n="/v1/scene",w=i("scene",()=>{const a=l(),o=c({name:"",description:"",command:""}),s=c([]);return{dialog:c(!1),elements:s,element:o,sendAction:async e=>{try{await r.post([n,"action"].join("/"),e),await r.post("/v1/logs",{description:`Внимание. Был запущен сценарий "${e.name}".`})}catch(t){console.error("Error sending action:",t)}},save:async()=>{try{const e=await r.post(n,o.value);s.value===null&&(s.value=[]),s.value.push(e.data),a.push({name:"scene"})}catch(e){console.error("Error saving scene:",e)}},update:async()=>{try{await r.put([n,o.value.id].join("/"),o.value),a.push({name:"scene"})}catch(e){console.error("Error updating scene:",e)}},remove:async()=>{try{await r.delete([n,o.value.id].join("/")),a.push({name:"scene"})}catch(e){console.error("Error deleting scene:",e)}},fetchAll:async()=>{try{const e=await r.get(n);s.value=e.data}catch(e){console.error("Error fetching scene:",e)}},fetchOne:async e=>{try{const t=await r.get([n,e].join("/"));o.value=t.data}catch(t){console.error("Error fetching scene:",t)}}}});export{w as u};
