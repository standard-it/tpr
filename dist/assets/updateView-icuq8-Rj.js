import{d as g,c as k,a as n,w as a,q as v,o as y,f as s,u as o,b as u,t as P,p as q,_ as B}from"./index-DEZaLq76.js";import{C as p}from"./ComponentButton-C3meVf2-.js";import{C as I}from"./ComponentCard-D_QuY9Lo.js";import{C as i}from"./ComponentDropdownList-CakEUtGU.js";import{C as N}from"./ComponentHeading-BwTxAJ3r.js";import{C as m}from"./ComponentInput-CTghgZJM.js";import{s as T}from"./index-CznklluM.js";import{P as $,m as A}from"./index-Bhxkf1XE.js";import{u as H}from"./index-HHQrPdE9.js";import{u as D}from"./index-FwF_Cyqq.js";import{u as E}from"./index-Cuj8nlG6.js";import{u as L}from"./index-EbIPtxbL.js";import"./index-DTEV5yGJ.js";import"./axios-CCb-kr4I.js";const M=g({__name:"updateView",setup(O){const V=H(),f=D(),t=L(),b=E(),w=v(),S=new $({fieldName:"name",rule:r=>A(r,4),errorMessage:"Обязательно укажите наименование"}),U=()=>{const r=S.validate(t.element);if(Object.keys(r).length!==0){T(r);return}t.update()};return t.fetchOne(+w.params.id),V.fetchAll(),f.fetchAll(),b.fetchAll(),(r,e)=>(y(),k("main",null,[n(N,null,{nav:a(()=>[n(p,{to:{name:"equipment"}},{default:a(()=>e[12]||(e[12]=[s("Назад")])),_:1}),n(p,{onClick:e[0]||(e[0]=d=>U())},{default:a(()=>e[13]||(e[13]=[s("Сохранить")])),_:1}),n(p,{onClick:o(t).remove},{default:a(()=>e[14]||(e[14]=[s("Удалить")])),_:1},8,["onClick"])]),default:a(()=>[u("h1",null,[e[15]||(e[15]=s(" Редактирование ")),u("span",null,P(o(t).element.name),1)]),e[16]||(e[16]=u("p",null,' Укажите кратко наименование оборудования, например "Камера 1", "IP Усилитель 1". Выберите "Категорию оборудования", если нет нужной категории создайте новую категорию в меню "Категория оборудования". ',-1))]),_:1}),n(I,{tag:"section"},{default:a(()=>{var d,C,x;return[u("form",{onSubmit:e[11]||(e[11]=q(()=>{},["prevent"]))},[n(m,{type:"text",label:"Наименование",required:"name",modelValue:o(t).element.name,"onUpdate:modelValue":e[1]||(e[1]=l=>o(t).element.name=l)},null,8,["modelValue"]),n(i,{label:"Категория",options:(d=o(V).elements)==null?void 0:d.map(l=>({value:l.id,label:l.name})),modelValue:o(t).element.equipment_categories_id,"onUpdate:modelValue":e[2]||(e[2]=l=>o(t).element.equipment_categories_id=l)},null,8,["options","modelValue"]),n(m,{type:"text",label:"Серийный номер",modelValue:o(t).element.serial_number,"onUpdate:modelValue":e[3]||(e[3]=l=>o(t).element.serial_number=l)},null,8,["modelValue"]),n(m,{type:"text",label:"Модель",modelValue:o(t).element.model,"onUpdate:modelValue":e[4]||(e[4]=l=>o(t).element.model=l)},null,8,["modelValue"]),n(m,{type:"text",label:"HTTP",modelValue:o(t).element.http,"onUpdate:modelValue":e[5]||(e[5]=l=>o(t).element.http=l)},null,8,["modelValue"]),n(m,{type:"text",label:"SSH",modelValue:o(t).element.ssh,"onUpdate:modelValue":e[6]||(e[6]=l=>o(t).element.ssh=l)},null,8,["modelValue"]),n(m,{type:"text",label:"IP",modelValue:o(t).element.ip,"onUpdate:modelValue":e[7]||(e[7]=l=>o(t).element.ip=l)},null,8,["modelValue"]),n(i,{label:"Телекоммуникационный шкаф",options:(C=o(f).elements)==null?void 0:C.map(l=>({value:l.id,label:l.name})),modelValue:o(t).element.racks_id,"onUpdate:modelValue":e[8]||(e[8]=l=>o(t).element.racks_id=l)},null,8,["options","modelValue"]),n(i,{label:"Гарантия",options:(x=o(b).elements)==null?void 0:x.map(l=>({value:l.id,label:l.name})),modelValue:o(t).element.warranties_id,"onUpdate:modelValue":e[9]||(e[9]=l=>o(t).element.warranties_id=l)},null,8,["options","modelValue"]),n(m,{type:"text",label:"RTSP",modelValue:o(t).element.rtsp,"onUpdate:modelValue":e[10]||(e[10]=l=>o(t).element.rtsp=l)},null,8,["modelValue"])],32)]}),_:1})]))}}),c=B(M,[["__scopeId","data-v-2d9dee6c"]]);export{c as default};
